@use "variables" as *;

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
  border: 0;
  list-style: none;
  text-decoration: none;
  background: transparent;
  vertical-align: baseline;
  
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  font-size: $main-font-size;
  @media (max-width: $mobile-breakpoint) {
    font-size: $main-font-size-mobile;
  }
  line-height: $main-line-height;
}

body {
  // Layout
  display: flex;
  flex-direction: column;
  scroll-behavior: smooth;
  margin-top: 0;
  height: 100vh;

  // Appearance
  background-color: var(--bg);
  color: var(--text);
  transition: background-color 240ms ease, color 240ms ease;
}

main {
  flex: 1; /* pushes footer to the bottom */
  padding-bottom: $main-bottom-padding;

  padding-top: $header-height-desktop + $main-top-padding;

  @media (max-width: $mobile-breakpoint) {
    padding-top: $header-height-mobile;
  }
}

/* sections */
.section {
  width: 100%;
}

h1, h2 {
  color: var(--accent);
}

// Themes
:root{
  /* Light theme defaults */
  --bg: $light-bg;
  --text: $light-text;
  --muted: $light-muted;
  --header-bg: $light-header-bg;
  --footer-bg: $light-footer-bg;
  --card-bg: $light-card-bg;
  --card-shadow: $light-card-shadow;
  --accent: $light-accent;
  --button-bg: $light-button-bg;
  --button-text: $light-button-text;
  --bg-layer-opacity: $light-bg-layer-opacity;
  --overlay-opacity:$light-overlay-opacity;
  --header-height: #{$header-height-desktop};
  @media (max-width: $mobile-breakpoint) {
    --header-height: #{$header-height-mobile};
  }
}

/* Respect system preference if JS hasn't set data-theme */
@media (prefers-color-scheme: light){
  :root:not([data-theme]) {
    /* nothing â€” defaults above already light */
  }
}
@media (prefers-color-scheme: dark){
  :root:not([data-theme]) {
    --bg: $dark-bg;
    --text: $dark-text;
    --muted: $dark-muted;
    --header-bg: $dark-header-bg;
    --footer-bg: $dark-footer-bg;
    --card-bg: $dark-card-bg;
    --card-shadow: $dark-card-shadow;
    --accent: $dark-accent;
    --button-bg: $dark-button-bg;
    --button-text: $dark-button-text;
    --bg-layer-opacity: $dark-bg-layer-opacity;
    --overlay-opacity:$dark-overlay-opacity;
  }
}

/* Explicit themes via JS */
:root[data-theme="light"] {
  --bg: #{$light-bg};
  --text: #{$light-text};
  --muted: #{$light-muted};
  --header-bg: #{$light-header-bg};
  --footer-bg: #{$light-footer-bg};
  --card-bg: #{$light-card-bg};
  --card-shadow: #{$light-card-shadow};
  --accent: #{$light-accent};
  --button-bg: #{$light-button-bg};
  --button-text: #{$light-button-text};
  --bg-layer-opacity: #{$light-bg-layer-opacity};
  --overlay-opacity: #{$light-overlay-opacity};
}

:root[data-theme="dark"] {
  --bg: #{$dark-bg};
  --text: #{$dark-text};
  --muted: #{$dark-muted};
  --header-bg: #{$dark-header-bg};
  --footer-bg: #{$dark-footer-bg};
  --card-bg: #{$dark-card-bg};
  --card-shadow: #{$dark-card-shadow};
  --accent: #{$dark-accent};
  --button-bg: #{$dark-button-bg};
  --button-text: #{$dark-button-text};
  --bg-layer-opacity: #{$dark-bg-layer-opacity};
  --overlay-opacity: #{$dark-overlay-opacity};
}

button {
  cursor: pointer;
}